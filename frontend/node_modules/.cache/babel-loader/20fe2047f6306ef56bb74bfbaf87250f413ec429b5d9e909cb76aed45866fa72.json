{"ast":null,"code":"\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n  return _typeof(obj);\n}\nvar object_filled_keys_count = require('../helpers/object-filled-keys-count');\nvar is_valid_moment_object = require('../helpers/is-valid-moment-object');\nvar filterByCustomFilters = require('../filters/custom-filters');\nmodule.exports = function (data, e) {\n  if (e) {\n    var _query = this.query;\n    this.setPage(1, true);\n    var name = this.getName(e.target.name);\n    var value = _typeof(e.target.value) === 'object' ? e.target.value : '' + e.target.value;\n    if (name) {\n      _query[name] = value;\n    } else {\n      _query = value;\n    }\n    this.vuex ? this.commit('SET_FILTER', _query) : this.query = _query;\n    this.updateState('query', _query);\n    if (name) {\n      this.dispatch('filter', {\n        name: name,\n        value: value\n      });\n      this.dispatch(\"filter::\".concat(name), value);\n    } else {\n      this.dispatch('filter', value);\n    }\n  }\n  var query = this.query;\n  var totalQueries = !query ? 0 : 1;\n  if (!this.opts) return data;\n  if (this.opts.filterByColumn) {\n    totalQueries = object_filled_keys_count(query);\n  }\n  var value;\n  var found;\n  var currentQuery;\n  var dateFormat;\n  var filterByDate;\n  var isListFilter;\n  var data = filterByCustomFilters(data, this.opts.customFilters, this.customQueries);\n  if (!totalQueries) return data;\n  return data.filter(function (row, index) {\n    found = 0;\n    this.filterableColumns.forEach(function (column) {\n      filterByDate = this.opts.dateColumns.indexOf(column) > -1 && this.opts.filterByColumn;\n      isListFilter = this.isListFilter(column) && this.opts.filterByColumn;\n      dateFormat = this.dateFormat(column);\n      value = this._getValue(row, column);\n      if (is_valid_moment_object(value) && !filterByDate) {\n        value = value.format(dateFormat);\n      }\n      currentQuery = this.opts.filterByColumn ? query[column] : query;\n      currentQuery = setCurrentQuery(currentQuery);\n      if (currentQuery) {\n        if (this.opts.filterAlgorithm[column]) {\n          if (this.opts.filterAlgorithm[column].call(this.$parent.$parent, row, this.opts.filterByColumn ? query[column] : query)) found++;\n        } else {\n          if (foundMatch(currentQuery, value, isListFilter)) found++;\n        }\n      }\n    }.bind(this));\n    return found >= totalQueries;\n  }.bind(this));\n};\nfunction setCurrentQuery(query) {\n  if (!query) return '';\n  if (typeof query == 'string') return query.toLowerCase(); // Date Range\n\n  return query;\n}\nfunction foundMatch(query, value, isListFilter) {\n  if (['string', 'number', 'boolean'].indexOf(_typeof(value)) > -1) {\n    value = String(value).toLowerCase();\n  } // List Filter\n\n  if (isListFilter) {\n    return value == query;\n  } //Text Filter\n\n  if (typeof value === 'string') {\n    return value.indexOf(query) > -1;\n  } // Date range\n\n  if (is_valid_moment_object(value)) {\n    var start = moment(query.start, 'YYYY-MM-DD HH:mm:ss');\n    var end = moment(query.end, 'YYYY-MM-DD HH:mm:ss');\n    return value >= start && value <= end;\n  }\n  if (_typeof(value) === 'object') {\n    for (var key in value) {\n      if (foundMatch(query, value[key])) return true;\n    }\n    return false;\n  }\n  return value >= start && value <= end;\n}","map":{"version":3,"names":["_typeof","obj","Symbol","iterator","constructor","prototype","object_filled_keys_count","require","is_valid_moment_object","filterByCustomFilters","module","exports","data","e","_query","query","setPage","name","getName","target","value","vuex","commit","updateState","dispatch","concat","totalQueries","opts","filterByColumn","found","currentQuery","dateFormat","filterByDate","isListFilter","customFilters","customQueries","filter","row","index","filterableColumns","forEach","column","dateColumns","indexOf","_getValue","format","setCurrentQuery","filterAlgorithm","call","$parent","foundMatch","bind","toLowerCase","String","start","moment","end","key"],"sources":["C:/Users/kauan/Documents/frontend/node_modules/vue-tables-2/compiled/methods/client-search.js"],"sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar object_filled_keys_count = require('../helpers/object-filled-keys-count');\n\nvar is_valid_moment_object = require('../helpers/is-valid-moment-object');\n\nvar filterByCustomFilters = require('../filters/custom-filters');\n\nmodule.exports = function (data, e) {\n  if (e) {\n    var _query = this.query;\n    this.setPage(1, true);\n    var name = this.getName(e.target.name);\n    var value = _typeof(e.target.value) === 'object' ? e.target.value : '' + e.target.value;\n\n    if (name) {\n      _query[name] = value;\n    } else {\n      _query = value;\n    }\n\n    this.vuex ? this.commit('SET_FILTER', _query) : this.query = _query;\n    this.updateState('query', _query);\n\n    if (name) {\n      this.dispatch('filter', {\n        name: name,\n        value: value\n      });\n      this.dispatch(\"filter::\".concat(name), value);\n    } else {\n      this.dispatch('filter', value);\n    }\n  }\n\n  var query = this.query;\n  var totalQueries = !query ? 0 : 1;\n  if (!this.opts) return data;\n\n  if (this.opts.filterByColumn) {\n    totalQueries = object_filled_keys_count(query);\n  }\n\n  var value;\n  var found;\n  var currentQuery;\n  var dateFormat;\n  var filterByDate;\n  var isListFilter;\n  var data = filterByCustomFilters(data, this.opts.customFilters, this.customQueries);\n  if (!totalQueries) return data;\n  return data.filter(function (row, index) {\n    found = 0;\n    this.filterableColumns.forEach(function (column) {\n      filterByDate = this.opts.dateColumns.indexOf(column) > -1 && this.opts.filterByColumn;\n      isListFilter = this.isListFilter(column) && this.opts.filterByColumn;\n      dateFormat = this.dateFormat(column);\n      value = this._getValue(row, column);\n\n      if (is_valid_moment_object(value) && !filterByDate) {\n        value = value.format(dateFormat);\n      }\n\n      currentQuery = this.opts.filterByColumn ? query[column] : query;\n      currentQuery = setCurrentQuery(currentQuery);\n\n      if (currentQuery) {\n        if (this.opts.filterAlgorithm[column]) {\n          if (this.opts.filterAlgorithm[column].call(this.$parent.$parent, row, this.opts.filterByColumn ? query[column] : query)) found++;\n        } else {\n          if (foundMatch(currentQuery, value, isListFilter)) found++;\n        }\n      }\n    }.bind(this));\n    return found >= totalQueries;\n  }.bind(this));\n};\n\nfunction setCurrentQuery(query) {\n  if (!query) return '';\n  if (typeof query == 'string') return query.toLowerCase(); // Date Range\n\n  return query;\n}\n\nfunction foundMatch(query, value, isListFilter) {\n  if (['string', 'number', 'boolean'].indexOf(_typeof(value)) > -1) {\n    value = String(value).toLowerCase();\n  } // List Filter\n\n\n  if (isListFilter) {\n    return value == query;\n  } //Text Filter\n\n\n  if (typeof value === 'string') {\n    return value.indexOf(query) > -1;\n  } // Date range\n\n\n  if (is_valid_moment_object(value)) {\n    var start = moment(query.start, 'YYYY-MM-DD HH:mm:ss');\n    var end = moment(query.end, 'YYYY-MM-DD HH:mm:ss');\n    return value >= start && value <= end;\n  }\n\n  if (_typeof(value) === 'object') {\n    for (var key in value) {\n      if (foundMatch(query, value[key])) return true;\n    }\n\n    return false;\n  }\n\n  return value >= start && value <= end;\n}"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}